"use strict";const e=require("../../common/vendor.js"),a=require("../../common/assets.js"),t=require("../../store/tag.js"),i=require("../../store/user.js");if(!Array){e.resolveComponent("uni-section")()}Math;const o={__name:"tag-creat-menu",setup(o){const n=e.inject("url"),s=i.useUserStore(),r=t.useTagStore(),l=[" ","1 Point","2 Points","3 Points","4 Points","5 Points","6 Points","7 Points","8 Points","9 Points","10 Points"],d=[[0,1,2,3,4],[0,10,20,30,40,50]],u=e.reactive({single:"",showPicker:!1,index:0,ifshowtagCreatDay:!0,inputClearValue1:"",inputClearValue2:"",showClearIcon1:!1,showClearIcon2:!1,indexTime1:0,indexTime2:0,ifshowtagCreatDay1:!0,ifshowtagCreatDay2:!0,ifTagUpdate:0,tagId:0});u.inputClearValue1=r.data.tagName,u.inputClearValue2=r.data.tagDescribe,u.indexTime1=r.data.tagHour,u.indexTime2=r.data.tagMinute/10,u.index=r.data.tagPoint,u.ifTagUpdate=r.data.ifTagUpdate,u.tagId=r.data.tagId,0==u.indexTime1&&0==u.indexTime2||(u.ifshowtagCreatDay1=!0),0!=u.index&&(u.ifshowtagCreatDay2=!0),e.onMounted((()=>{}));const g=()=>{u.ifshowtagCreatDay1=!0},C=()=>{u.ifshowtagCreatDay2=!0},h=e=>{u.index=e.detail.value},c=e=>{u.indexTime1=e.detail.value[0],u.indexTime2=e.detail.value[1]},w=e=>{u.inputClearValue1=e.detail.value,e.detail.value.length>0?u.showClearIcon1=!0:u.showClearIcon1=!1},p=e=>{u.inputClearValue2=e.detail.value,e.detail.value.length>0?u.showClearIcon2=!0:u.showClearIcon2=!1},m=()=>{u.inputClearValue1="",u.showClearIcon1=!1},x=()=>{u.inputClearValue2="",u.showClearIcon2=!1},T=()=>{u.ifshowtagCreatDay=!u.ifshowtagCreatDay,u.ifshowtagCreatDay1=!u.ifshowtagCreatDay1,u.ifshowtagCreatDay2=!u.ifshowtagCreatDay2,u.single="",u.index=0},f=()=>{""==u.inputClearValue1?e.index.showToast({icon:"none",title:"请输入标签名"}):""==u.inputClearValue2?e.index.showToast({icon:"none",title:"请输入标签备注"}):0==u.index?e.index.showToast({icon:"none",title:"请添加分数"}):0==u.indexTime1&&0==u.indexTime2?e.index.showToast({icon:"none",title:"请添加不为空的时间"}):e.index.request({url:n+"/tag/save",method:"POST",data:{userEmail:s.data.userEmail,tagName:u.inputClearValue1,tagDescribe:u.inputClearValue2,tagPoint:u.index,tagHour:d[0][u.indexTime1],tagMinute:d[1][u.indexTime2],ifTagUpdate:u.ifTagUpdate,tagId:u.tagId},success:a=>{1==a.data.data.ifRepeat?(e.index.showToast({icon:"none",title:"标签名称重复"}),console.log(a)):e.index.redirectTo({url:"../../pages/Tag/Tag"})}})};return(t,i)=>e.e({a:a._imports_0$11,b:e.o(f),c:a._imports_1$6,d:u.inputClearValue1,e:e.o(w),f:u.showClearIcon1},u.showClearIcon1?{g:a._imports_2$3,h:e.o(m)}:{},{i:u.inputClearValue2,j:e.o(p),k:u.showClearIcon2},u.showClearIcon2?{l:a._imports_2$3,m:e.o(x)}:{},{n:e.o(T),o:u.ifshowtagCreatDay},u.ifshowtagCreatDay?{p:a._imports_3$3,q:e.o(g),r:e.o(c),s:u.indexTime,t:d}:{},{v:u.ifshowtagCreatDay},u.ifshowtagCreatDay?{w:a._imports_4,x:e.o(C),y:e.o(h),z:l}:{},{A:u.ifshowtagCreatDay1,B:e.p({title:"倒计时时间："+d[0][u.indexTime1]+"小时"+d[1][u.indexTime2]+"分钟",type:"line"}),C:u.ifshowtagCreatDay2,D:e.p({title:"可得分数："+l[u.index],type:"line"})})}},n=e._export_sfc(o,[["__scopeId","data-v-c917a539"]]);wx.createComponent(n);
