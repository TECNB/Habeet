"use strict";const t=require("../../common/vendor.js"),a=require("../../store/target.js"),e={__name:"target-day",setup(e){t.inject("url");const s=a.useTargetStore();let o=new Date;o.getDate(),o.getDay(),o.getMonth();let d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];const n=t.reactive({dayList:[]});n.dayList.push({day:o.getDate(),month:o.getMonth(),week:d[o.getDay()],className:"NumCenter"}),t.onMounted((()=>{const t=new Date(o.getFullYear(),n.dayList[0].month,1);o=new Date(t),o.setDate(n.dayList[0].day),o.setMonth(n.dayList[0].month),s.data.currentTime=o.toString(),s.data.dayDiff=[],s.data.ifshowDay=[],s.data.deadlineDate.forEach((t=>{let a=new Date(s.data.currentTime),e=t.getTime()-a.getTime(),o=Math.floor(e/864e5);if(o>0)s.data.ifshowDay.push(!0);else if(o<0){o=`${t.getMonth()+1}.${t.getDate()}`,s.data.ifshowDay.push(!1)}else{o=`${t.getHours()}:${t.getMinutes().toString().padStart(2,"0")}`,s.data.ifshowDay.push(!1)}s.data.dayDiff.push(o),console.log(s.data.dayDiff)}))}));for(let t=0;t<30;t++)o.setDate(o.getDate()+1),n.dayList.push({day:o.getDate(),month:o.getMonth(),week:d[o.getDay()],className:"Num"});return(a,e)=>({a:t.f(n.dayList,((a,e,d)=>({a:t.t(a.week),b:t.t(a.day),c:t.n(a.className),d:e,e:t.o((t=>(t=>{n.dayList.forEach((t=>{t.className="Num"})),n.dayList[t].className="NumCenter";const a=new Date(o.getFullYear(),n.dayList[t].month,1);o=new Date(a),o.setDate(n.dayList[t].day),o.setMonth(n.dayList[t].month),s.data.currentTime=o.toString(),s.data.dayDiff=[],s.data.ifshowDay=[],s.data.deadlineDate.forEach((t=>{let a=new Date(s.data.currentTime),e=t.getTime()-a.getTime(),o=Math.floor(e/864e5);o>0?s.data.ifshowDay.push(!0):o<0?(o=`${t.getMonth()+1}.${t.getDate()}`,s.data.ifshowDay.push(!1)):(o=`${t.getHours()}:${t.getMinutes().toString().padStart(2,"0")}`,s.data.ifshowDay.push(!1)),s.data.dayDiff.push(o)})),s.data.dayDiff.forEach((t=>{}))})(e)),e)})))})}};wx.createComponent(e);
